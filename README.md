<h1 align="center">
Dart ShoppingMall Application
</h1>
<p align="center">
</p>

## 프로젝트 개요
### [Dart 기초] 개인 과제 - 콘솔 쇼핑몰

#### 💡 아래의 기능이 들어있는 콘솔 프로그램 만들기
> 👀 판매하는 상품 목록을 볼 수 있는 기능
> 

> 🛒 구매자가 구매하고 싶은 상품들을 장바구니에 담을 수 있는 기능
> 

> 💶 구매자가 장바구니에 담은 상품들의 총 가격을 볼 수 있는 기능




<br/>

### 프로젝트 일정
25/06/23~25/06/27   






## **필수 기능**

### 1. 판매하는 상품 목록을 볼 수 있는 기능

**[ 설명 ]**

- `1` 을 입력했을 때 판매하고 있는 상품 목록을 출력합니다.

**[ 조건 ]**

- 출력 형태 : `[상품명] / [상품 1개당 가격]원`
    
    ```dart
    셔츠 / 45000원
    원피스 / 30000원
    반팔티 / 35000원
    반바지 / 38000원
    양말 / 5000원
    ```
    

**[ 힌트 ]**

- 반복문을 통해 상품의 정보를 하나씩 출력합니다.

---

### 2. 상품을 장바구니에 담을 수 있는 기능

**[ 설명 ]**

- `2` 를 입력했을 때 장바구니에 담을 상품 이름 (`String`) 과 상품 개수 (`int`) 를 입력 받습니다.

**[ 조건 ]**

- 입력한 상품의 이름이 상품 목록에 있지 않거나 상품의 개수가 0 이하의 값이면 장바구니에 담기지 않습니다.
    - 상품 목록에 없는 상품의 이름을 입력한 경우 `입력값이 올바르지 않아요 !` 를 출력합니다.
    - 상품의 개수를 숫자 형태로 입력하지 않은 경우 `입력값이 올바르지 않아요 !` 를 출력합니다.
    - 입력한 상품의 개수가 0 이하의 수인 경우 `0개보다 많은 개수의 상품만 담을 수 있어요 !` 를 출력합니다.
- 입력한 상품의 이름과 상품의 개수가 올바른 값이면 장바구니에 담깁니다.
    - 이 경우 `장바구니에 상품이 담겼어요 !` 를 출력합니다.

**[ 힌트 ]**

- 조건문과 `try-catch` 문을 통해 입력값에 대한 처리를 할 수 있습니다.
- `contains()` 또는 고차 함수를 통해 입력한 상품의 이름이 상품 목록에 있는지 판별할 수 있습니다.
- `int.parse()` 를 통해 입력한 상품의 개수를 `int` 타입으로 변환할 수 있습니다.
- 장바구니에 담은 상품들의 총 가격을 담기 위한 인스턴스 변수를 `ShoppingMall` 클래스에 정의한 후 그 인스턴스 변수의 값에 더해줍니다.

---

### 3. 장바구니에 담은 상품들의 총 가격을 볼 수 있는 기능

**[ 설명 ]**

- `3` 을 입력했을 때 구매자가 장바구니에 담은 상품들의 총 가격 (`int`) 을 계산하여 출력합니다.

**[ 조건 ]**

- 출력 형태 : `장바구니에 [가격]원 어치를 담으셨네요 !`
    
    ```dart
    장바구니에 35000원 어치를 담으셨네요 ! 
    ```
    

---

### 4. 쇼핑몰 프로그램을 종료할 수 있는 기능

**[ 설명 ]**

- `4` 를 입력했을 때 쇼핑몰 프로그램이 종료됩니다.

**[ 조건 ]**

- `이용해 주셔서 감사합니다 ~ 안녕히 가세요 !` 출력 후 프로그램을 종료합니다.

**[ 힌트 ]**

- `while` 문을 사용하고, 프로그램을 종료하기 위한 `bool` 타입의 변수로 `while` 문을 제어합니다.

- <br/>

## **도전 기능**

### 1. 쇼핑몰 프로그램을 종료할 시 한번 더 종료할 것인지 물어보는 기능

**[ 설명 ]**

- `4`를 입력하면 `정말 종료하시겠습니까?` 출력 이후 `5`를 입력하면 `이용해 주셔서 감사합니다 ~ 안녕히 가세요!` 출력 후 종료합니다.

**[ 조건 ]** 

- `4`를 입력 후 `5`를 입력하지 않고 다른 값 입력 시 `종료하지 않습니다.` 출력

**[ 힌트 ]**

- **`4`를 입력했을 때** `dart:io` 라이브러리의 `stdin.readLineSync()`를 한번 더 호출하여 입력을 받고 **조건문 이용하여 처리할 수 있습니다.**

---

### 2. 장바구니를 초기화할 수 있는 기능

**[ 설명 ]**

- `6`을 입력하면 `장바구니를 초기화합니다.` 출력 후 장바구니를 초기화합니다.

**[ 조건 ]**

- 장바구니가 비어있는 상태에서 `6`을 입력 시 `이미 장바구니가 비어있습니다.` 출력

**[ 힌트 ]**

- **`6`을 입력 했을 때 `total` 변수의 값에 따라 조건문을 두어 처리할 수 있습니다.**

---

### 3. 장바구니에 담은 상품들의 목록과 가격을 볼 수 있는 기능

**[ 설명 ]**

- `3`을 입력 시 장바구니에 담긴 상품 목록과 장바구니에 담긴 상품들의 금액 총합을 출력합니다.

**[ 조건 ]**

- 장바구니가 비어있을 경우 `장바구니에 담긴 상품이 없습니다.` 출력
- 출력 형태 : `장바구니에 셔츠, 청바지, 넥타이가 담겨있네요. 총 [가격]원 입니다!`

**[ 힌트 ]**

- **장바구니에 담길 상품 이름을 담을 변수를 `List` 타입의 변수로 새로 생성하고, 리스트 내 요소를 한번에 출력할 수 있는 `join` 함수를 이용해 보세요 .**

  <br/>

| [홈 화면] | [캠핑장 상세 화면] | [검색 화면] | [지역별 캠핑장 화면] |
| --- | --- | --- | --- |
| - 지역별 캠핑장 보기<br>- 댓글별 캠핑장 보기<br>- 반려동물 동반 캠핑장 보기<br>- 휴일정보 보기<br>- 테마별 칩 | - 캠핑장 상세 정보 보기<br>- 캠핑장 댓글 작성/삭제<br>- 캠핑장 경로 보기<br>- 주변 마트 위치 보기<br>- 북마크 기능 | - 검색화면 보기<br>- 캠핑장 이름 검색<br>- 카테고리별 필터링 | - 지역별 캠핑장 모아보기 |

| [게시판 화면] | [게시물 작성 화면] | [게시물 상세 화면] |
| --- | --- | --- |
| - 게시물 목록 보기<br>- 게시물 검색 | - 게시물 작성<br>- Custom Photo Picker | - 게시물 보기/삭제<br>- 댓글 작성/삭제 |

| [지도 화면] | [로그인 화면] | [프로필 화면] |
| --- | --- | --- |
| - 캠핑장 위치 보기<br>- 클러스터링<br>- 캠핑장 정보 확인<br>- 북마크된 캠핑장 보기<br>- 지도 타입 바꾸기 | - 구글/카카오 간편 로그인 | - 유저 정보 확인 및 수정<br>- 북마크 캠핑장/작성한 글 확인<br>- 로그아웃 |

<br/>

## TroubleShooting

#### Photopicker Custom View 개발
- 필요성: 이미지와 함께 게시물 올리기. 공식 포토피커는 선택한 이미지 상태 복원 기능 미제공
- 해결책: 상태복원, 다중 선택, 개수 제한 기능 제공 커스텀뷰 개발
- 개선점: 이미지 로딩 속도 Nm/s -> Nm/s(N% -> N%) 개선

#### 지도화면 내 마커 표시 최적화
- 문제: 캠프 개수가 3700개에 달하며, 모두 표시 시 성능 문제 발생
- 해결책: 클러스터링 적용과 현재 화면에만 마커 보이도록 최적화
- 개선점: 최적화 결과 기존 로딩 속도 Nm/s -> Nm/s

#### 개발단계에 맞는 키해시 등록
- 문제: 등록되지 않은 키해시로 인한 로그인 에러
- 해결책: 개발자의 키해시 등록 및 구글 콘솔 인증서 기반 키해시 등록으로 문제 해결

#### 회원가입 시 유저정보 등록 최적화
- 문제: 첫 유저데이터 생성 시간 소모적
- 해결책: 기본 프로필 이미지 URI 파이어스토어 저장 및 스토리지 별도 업로드로 로그인 시간 단축
- 개선점: 로그인 시간 단축 (개선 전 : Nm/s -> 개선 후 Nm/s)

#### Firestore 데이터 세분화
- 문제: Firestore NoSQL 형식으로 중복 필터링 적용 어려움
- 해결책: 리스트 형식 데이터를 단일항목으로 저장하여 필터링 적용
- 개선점: 검색 기능 최적화(자동 완성 기능에서의 네트워크 요청 처리 횟수 감소 - N회 -> N회)

#### 디바운싱 클래스 작성
- 문제: 게시물 업로드 시 중복 터치 문제
- 해결책: 코틀린 확장함수 사용해 디바운싱 적용한 클릭 리스너 개발
- 고려사항: 디바운싱과 쓰로틀링의 차이 이해
- 개선점: 디바운싱 적용으로 네트워크 요청 처리 횟수 감소. 메모리 과부하로 앱 강제 종료 횟수 감소(N% -> N%)


<br/>

## 유지보수 및 개선사항

### 2025/06/27: 도전 기능 미완성
3. 장바구니에 담은 상품들의 목록과 가격을 볼 수 있는 기능
- 향후 계획: 개발 예정
